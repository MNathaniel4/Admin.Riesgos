hastaD=Sys.Date()
per="D"
paridadFX="USDMXN=X"
convertirFX=c(TRUE)
Datos=historico_multiples_precios(tickers=tickerV,de=deD,hasta=hastaD,periodicidad=per,fxRate=paridadFX,whichToFX=convertirFX)
precios=Datos$tablaPrecios
rendimientos=Datos$tablaRendimientosCont
adf.test(precios$SPX)
PL = diff(precios$SPX,1)
adf.test(PL)
r = diff(log(precios%SPX),1)
r = diff(log(precios$SPX),1)
adf.test(PL)
r = diff(log(precios$SPX),1)
adf.test(PL)
r = diff(log(precios$SPX),1)
adf.test(r)
per="D"
adf.test(r)
adf.test(PL)
adf.test(r)
# Liberías de yahoo finance de Github:
source("https://raw.githubusercontent.com/OscarVDelatorreTorres/yahooFinance/main/datosMultiplesYahooFinance.R")
library(plotly)
library(dplyr)
library(tseries)
library(quantmod)
library(tidyverse)
library(tibble)
library(forecast)
library(DT)
# Ejemplo para descargar los históricos diarios de grupo Alfa (en moneda local), Microsoft en EEUU (convertido a MXN), Mercado Libre en EEUU (convertido a MXN) y el índice S&P/BMV IPC (en moneda local), desde el 1 de enero de 2023 a la fecha actual:
tickerV=c("^MXX")
deD=Sys.Date()-(3*365)
hastaD=Sys.Date()
per="D"
paridadFX="USDMXN=X"
convertirFX=c(FALSE)
Datos=historico_multiples_precios(tickers=tickerV,de=deD,hasta=hastaD,periodicidad=per,fxRate=paridadFX,whichToFX=convertirFX)
precios=Datos$tablaPrecios
rendimientos=Datos$tablaRendimientosCont
datatable(precios)
adf.test(precios$MXX)
PL=diff(precios$MXX,1)
adf.test(PL)
r=diff(log(precios$MXX),1)
adf.test(r)
precios$PL=c(0,PL)
precios$r=c(0,r)
fig2a=plot_ly()%>%add_trace(data=precios,x=~Date,y=~MXX,
type="scatter",mode="lines")
fig2b=plot_ly()%>%add_trace(data=precios,x=~Date,y=~PL,
type="scatter",mode="lines")
fig2c=plot_ly()%>%add_trace(data=precios,x=~Date,y=~r,
type="scatter",mode="lines")
fig2=subplot(fig2a,fig2b,fig2c,nrows=3)
fig2
modeloARMA=auto.arima(log(precios$MXX))
summary(modeloARMA)
pronosticoIPC=as.data.frame(forecast(modeloARMA,n=7))
pronosticoPuntual=pronosticoIPC$`Point Forecast`
pronosticoPuntual=exp(pronosticoPuntual)
pronosticoIPC
pronosticoPuntual=pronosticoIPC$`Point Forecast`
pronosticoPuntual=exp(pronosticoPuntual)
precios$MXX
p =c(precios$MXX)
p[:-3]
p[-3]
p[-2]
p[]
p- p[-3]
p[-3]
p[-50]
p[-50:-25]
p[1]
p[-1]
modeloARMA=auto.arima(log(p[1:length(p-3)]))
summary(modeloARMA)
pronosticoIPC=as.data.frame(forecast(modeloARMA,n=3))
pronosticoPuntual=pronosticoIPC$`Point Forecast`
pronosticoPuntual=exp(pronosticoPuntual)
pronosticoPuntual
pronosticoIPC=as.data.frame(forecast(modeloARMA,n=3))
pronosticoPuntual=pronosticoIPC$`Point Forecast`
pronosticoPuntual=exp(pronosticoPuntual)
pronosticoPuntual=exp(pronosticoPuntual)
pronosticoPuntual
pronosticoIPC=as.data.frame(forecast(modeloARMA,n=3))
pronosticoPuntual=pronosticoIPC$`Point Forecast`
pronosticoPuntual=exp(pronosticoPuntual)
modeloARMA=auto.arima(log(p[1:length(p-3)]))
summary(modeloARMA)
pronosticoIPC=as.data.frame(forecast(modeloARMA, n=3))
pronosticoPuntual=pronosticoIPC$`Point Forecast`
pronosticoPuntual=exp(pronosticoPuntual)
pronosticoIPC=as.data.frame(forecast(modeloARMA, n=3))
pronosticoPuntual=pronosticoIPC$`Point Forecast`
pronosticoPuntual=exp(pronosticoPuntual)
pronosticoPuntual
precios$MXX
pronosticoPuntual
modeloARMA=auto.arima(log(precios$MXX)))
modeloARMA=auto.arima(log(precios$MXX))
modeloARMA=auto.arima(log(precios$MXX))
summary(modeloARMA)
pronosticoIPC=as.data.frame(forecast(modeloARMA, n=7))
pronosticoPuntual=pronosticoIPC$`Point Forecast`
pronosticoPuntual=exp(pronosticoPuntual)
source("~/.active-rstudio-document", echo = TRUE)
ARMAfit = auto.arima(log(precios$SPX))
summary(ARMAfit)
trainingData <- precios$SPX %>% ts() %>% window(end=c(2022,12))
trainingData <- precios$SPX[1:(nrow(precios)-30)]
ARMAfit = auto.arima(log(trainingData))
summary(ARMAfit)
forecastedValues = forecast(ARMAfit, h=30)
Res = data.frame(Date=precios$Date[(nrow(precios)-29):nrow(precios)],
Actual=precios$SPX[(nrow(precios)-29):nrow(precios)],
Forecasted=exp(forecastedValues$mean))
Res
Res = data.frame(Date=precios$Date[(nrow(precios)-29):nrow(precios)],
Actual=precios$SPX[(nrow(precios)-29):nrow(precios)],
Forecasted=exp(forecastedValues$mean))
)
Res = data.frame(Date=precios$Date[(nrow(precios)-29):nrow(precios)],
Actual=precios$SPX[(nrow(precios)-29):nrow(precios)],
Forecasted=exp(forecastedValues$mean))
Res
Res
View(Rex)
View(Res)
View(forecastedValues)
forecastedValues[["fitted"]]
Res = data.frame(Date=precios$Date[(nrow(precios)-29):nrow(precios)],
Actual=precios$SPX[(nrow(precios)-29):nrow(precios)],
Forecasted=exp(forecastedValues$mean),
error = precios$SPX[(nrow(precios)-29):nrow(precios)] - exp(forecastedValues$mean)
)
Res
plot_ly(Res, x=~Date) %>%
add_lines(y=~Actual, name="Actual") %>%
add_lines(y=~Forecasted, name="Forecasted")
source("~/Econometría/Series de Tiempo/SP500forecastAR.R", echo = TRUE)
source("~/Econometría/Series de Tiempo/SP500forecastAR.R", echo = TRUE)
# Res = data.frame(Date=precios$Date[(nrow(precios)-2):nrow(precios)],
#                  Actual=precios$SPX[(nrow(precios)-2):nrow(precios)],
#                  Forecasted=exp(forecastedValues$mean),
#                  error = precios$SPX[(nrow(precios)-2):nrow(precios)] - exp(forecastedValues$mean)
#                  )
# Res
#
# plot_ly(Res, x=~Date) %>%
#   add_lines(y=~Actual, name="Actual") %>%
#   add_lines(y=~Forecasted, name="Forecasted")
source("~/Econometría/Series de Tiempo/SP500forecastAR.R", echo = TRUE)
source("~/Econometría/Series de Tiempo/SP500forecastAR.R", echo = TRUE)
pesos  = (1:nrow(precios$BIMBOA.MX))
lambda = 0.95
pesos  = (1:nrow(precios$BIMBOA.MX))
tickerV=c("BIMBOA.MX")
deD=Sys.Date()-(365)
hastaD=Sys.Date()
per="D"
paridadFX="USDMXN=X"
convertirFX=c(FALSE)
Datos=historico_multiples_precios(tickers=tickerV,de=deD,hasta=hastaD,periodicidad=per,fxRate=paridadFX,whichToFX=convertirFX)
precios=Datos$tablaPrecios
rendimientos=Datos$tablaRendimientosCont
lambda = 0.95
pesos  = (1:nrow(precios$BIMBOA.MX))
pesos  = (1:nrow(precios$BIMBOA.MX))
pesos  = lambda^(1:nrow(rendimientos)-2)
pesos  = lambda^(0:nrow(rendimientos)-2)
pesos  = lambda^(0:nrow(rendimientos-2))
varExp = (1-lambda)*(sum(pesos*(rendimientos$BIMBOA.MX)^2))
varTimeFixed = var(rendimientos$BIMBOA.MX)
VaRExp = qnorm(alpha, mean=0, sd=sqrt(varExp))
VaRTimeFixed = qnorm(alpha, mean=0, sd=sqrt(varTimeFixed))
VaRExp = qnorm(alpha, mean=0, sd=sqrt(varExp))
VaRExp = qnorm(alpha, mean=0, sd=sqrt(varExp))
varExp = numeric(varExp)
varTimeFixed = numeric(varTimeFixed)
VaRExp = qnorm(alpha, mean=0, sd=sqrt(varExp))
source("~/Econometría/Series de Tiempo/SP500forecastAR.R", echo = TRUE)
VaRExp = qnorm(alpha, mean=0, sd=sqrt(varExp))
VaRTimeFixed = qnorm(alpha, mean=0, sd=sqrt(varTimeFixed))
source("~/Econometría/Series de Tiempo/SP500forecastAR.R", echo = TRUE)
MAXLoss = c(-VaRExp *M, -VaRTimeFixed*M)
M = 500000
MAXLoss = c(-VaRExp *M, -VaRTimeFixed*M)
VaRTimeFixed = qnorm(alpha, mean=0, sd=sqrt(varTimeFixed))
varTimeFixed = var(rendimientos$BIMBOA.MX)
VaRTimeFixed = qnorm(alpha, mean=0, sd=sqrt(varTimeFixed))
M = 500000
MAXLoss = c(-VaRExp *M, -VaRTimeFixed*M)
MAXLoss = c(-VaRExp*1e-2 *M, -VaRTimeFixed*1e-2*M)
names(MAXLoss) = c("VaR Exponencial", "VaR Tiempo Fijo")
MAXLoss
z_alpha = qnorm(alpha)
z_alpha = qnorm(alpha)
VaRExp = - z_alpha * sqrt(varExp)
VaRTimeFixed = - z_alpha * sqrt(varTimeFixed)
M = 500000
MAXLoss = c(-VaRExp*1e-2 *M, -VaRTimeFixed*1e-2*M)
names(MAXLoss) = c("VaR Exponencial", "VaR Tiempo Fijo")
MAXLoss
z_alpha = qnorm(alpha)
VaRExp = z_alpha * sqrt(varExp)
VaRTimeFixed = z_alpha * sqrt(varTimeFixed)
M = 500000
MAXLoss = c(-VaRExp*1e-2 *M, -VaRTimeFixed*1e-2*M)
names(MAXLoss) = c("VaR Exponencial", "VaR Tiempo Fijo")
MAXLoss
source("~/Econometría/Series de Tiempo/SP500forecastAR.R", echo = TRUE)
alpha = 0.02
z_alpha = qnorm(1-alpha)
M = 500000
VarGauss = M*abs(z_alpha)*sqrt((varTimeFixed)*1e-2)
VarExp = M*abs(z_alpha)*sqrt((varExp)*1e-2)
VaR = c(VarExp, VarGauss)
names(VaR) = c("VaR Exponencial", "VaR Tiempo Fijo")
VaR
VaR
source("~/Econometría/Series de Tiempo/SP500forecastAR.R", echo = TRUE)
Volatidades = c(sqrt(varExp), sqrt(varTimeFixed))
names(Volatidades) = c("Volatilidad Exponencial", "Volatilidad Tiempo Fijo")
Volatidades = c(sqrt(varExp), sqrt(varTimeFixed))
names(Volatidades) = c("Volatilidad Exponencial", "Volatilidad Tiempo Fijo")
Volatidades
##
Volatidades = c(sqrt(varExp*1e-2), sqrt(varTimeFixed*1e-2))
names(Volatidades) = c("Volatilidad Exponencial", "Volatilidad Tiempo Fijo")
Volatidades
remdimientos
rendimientos
varExp = (1-lambda)*(sum(pesos*(rendiminetos)^2))
pesos  = lambda^(0:nrow(rendimientos-2))
varExp = (1-lambda)*(sum(pesos*(rendimientos$BIMBOA.MX)^2))
varTimeFixed = var(rendimientos$BIMBOA.MX)
alpha = 0.02
z_alpha = qnorm(1-alpha)
M = 500000
VarGauss = M*abs(z_alpha)*sqrt((varTimeFixed)*1e-2)
##
Volatidades = c(sqrt(varExp*1e-2), sqrt(varTimeFixed*1e-2))
names(Volatidades) = c("Volatilidad Exponencial", "Volatilidad Tiempo Fijo")
Volatidades
lambda = 0.98
pesos  = lambda^(0:nrow(rendimientos-1))
varExp = (1-lambda)*(sum(pesos*(rendimientos$BIMBOA.MX)^2))
varTimeFixed = var(rendimientos$BIMBOA.MX)
alpha = 0.02
z_alpha = qnorm(1-alpha)
M = 500000
VarGauss = M*abs(z_alpha)*sqrt((varTimeFixed)*1e-2)
##
Volatidades = c(sqrt(varExp*1e-2), sqrt(varTimeFixed*1e-2))
names(Volatidades) = c("Volatilidad Exponencial", "Volatilidad Tiempo Fijo")
Volatidades
##
VarExp = M*abs(z_alpha)*sqrt((varExp)*1e-2)
VaR = c(VarExp, VarGauss)
names(VaR) = c("VaR Exponencial", "VaR Tiempo Fijo")
VaR
##
Volatidades = c(sqrt(varExp*1e-2), sqrt(varTimeFixed*1e-2))
names(Volatidades) = c("Volatilidad Exponencial", "Volatilidad Tiempo Fijo")
Volatidades
varExp = (1-lambda)*(sum(pesos*(rendimientos$BIMBOA.MX^2)))
varTimeFixed = var(rendimientos$BIMBOA.MX)
alpha = 0.02
z_alpha = qnorm(1-alpha)
M = 500000
VarGauss = M*abs(z_alpha)*sqrt((varTimeFixed)*1e-2)
##
Volatidades = c(sqrt(varExp*1e-2), sqrt(varTimeFixed*1e-2))
names(Volatidades) = c("Volatilidad Exponencial", "Volatilidad Tiempo Fijo")
Volatidades
plot(pesos*(rendimientos$BIMBOA.MX^2))
pesos  = lambda^(0:nrow(rendimientos-1))
varExp = (1-lambda)*(sum(pesos*(rendimientos$BIMBOA.MX^2)))
varTimeFixed = var(rendimientos$BIMBOA.MX)
alpha = 0.02
z_alpha = qnorm(1-alpha)
M = 500000
VarGauss = M*abs(z_alpha)*sqrt((varTimeFixed)*1e-2)
##
Volatidades = c(sqrt(varExp*1e-2), sqrt(varTimeFixed*1e-2))
names(Volatidades) = c("Volatilidad Exponencial", "Volatilidad Tiempo Fijo")
Volatidades
##
VarExp = M*abs(z_alpha)*sqrt((varExp)*1e-2)
VaR = c(VarExp, VarGauss)
names(VaR) = c("VaR Exponencial", "VaR Tiempo Fijo")
VaR
VarGauss = M*abs(z_alpha)*sqrt(varTimeFixed*1e-2)
##
Volatidades = c(sqrt(varExp*1e-2), sqrt(varTimeFixed*1e-2))
names(Volatidades) = c("Volatilidad Exponencial", "Volatilidad Tiempo Fijo")
Volatidades
library(rugarch)
install.packages("rugarch")
library(rugarch)
spec = ugarchspec(variance.model=list(model="sGARCH", garchOrder=c(1,1)),
mean.model=list(armaOrder=c(0,0), include.mean=TRUE),
distribution.model="norm")
fit = ugarchfit(spec=spec, data=rendimientos$BIMBOA.MX*1e-2)
show(fit)
forecasted = ugarchforecast(fit, n.ahead=1)
sigmaForecasted = forecasted@forecast$sigmaFor
VaR_ARCH = M * abs(z_alpha) * sigmaForecasted
VaR_ARCH
Vol_ARCH = sigmaForecasted * 100
Vol_ARCH## ARCH Y GRACH
source("~/Econometría/Series de Tiempo/SP500forecastAR.R", echo = TRUE)
show(fit)
## grafica
plot( fit, which = "all" )
spec = ugarchspec(variance.model=list(model="sGARCH", garchOrder=c(1,1)),
mean.model=list(armaOrder=c(0,0), include.mean=TRUE),
distribution.model="t")
library(rugarch)
spec = ugarchspec(variance.model=list(model="sGARCH", garchOrder=c(1,1)),
mean.model=list(armaOrder=c(0,0), include.mean=TRUE),
distribution.model="tstd")
library(rugarch)
spec = ugarchspec(variance.model=list(model="sGARCH", garchOrder=c(1,1)),
mean.model=list(armaOrder=c(0,0), include.mean=TRUE),
distribution.model="normal")
library(rugarch)
spec = ugarchspec(variance.model=list(model="sGARCH", garchOrder=c(1,1)),
mean.model=list(armaOrder=c(0,0), include.mean=TRUE),
distribution.model="norm")
fit = ugarchfit(spec=spec, data=rendimientos$BIMBOA.MX*1e-2)
## grafica
plot( fit, which = "all" )
show(fit)
forecasted = ugarchforecast(fit, n.ahead=1)
sigmaForecasted = forecasted@forecast$sigmaFor
VaR_ARCH = M * abs(z_alpha) * sigmaForecasted
VaR_ARCH
Vol_ARCH = sigmaForecasted * 100
Vol_ARCH
## grafica
plot( fit, which = "all" )
spec = ugarchspec(variance.model=list(model="sGARCH", garchOrder=c(1,1)),
mean.model=list(armaOrder=c(0,0), include.mean=TRUE),
distribution.model="std")
fit = ugarchfit(spec=spec, data=rendimientos$BIMBOA.MX*1e-2)
## grafica
plot( fit, which = "all" )
spec = ugarchspec(variance.model=list(model="sGARCH", garchOrder=c(1,1)),
mean.model=list(armaOrder=c(0,0), include.mean=TRUE),
distribution.model="ged")
fit = ugarchfit(spec=spec, data=rendimientos$BIMBOA.MX*1e-2)
## grafica
plot( fit, which = "all" )
forecasted = ugarchforecast(fit, n.ahead=1)
sigmaForecasted = forecasted@forecast$sigmaFor
VaR_ARCH = M * abs(z_alpha) * sigmaForecasted
VaR_ARCH
Vol_ARCH = sigmaForecasted * 100
Vol_ARCH
Vol_ARCH
View(VaR_ARCH)
# Liberías de yahoo finance de Github:
source("https://raw.githubusercontent.com/OscarVDelatorreTorres/yahooFinance/main/datosMultiplesYahooFinance.R")
# Librerías de cuantificación de riesgos en Github:
source("https://raw.githubusercontent.com/OscarVDelatorreTorres/riskManagementSuiteR/refs/heads/main/riskManagementSuiteFunctions.R")
# Librerías de uso general:
library(plotly)
library(dplyr)
library(tseries)
library(quantmod)
library(tidyverse)
library(tibble)
library(forecast)
library(DT)
library(rugarch)
# Ejemplo para descargar los históricos diarios de grupo Alfa (en moneda local), Microsoft en EEUU (convertido a MXN), Mercado Libre en EEUU (convertido a MXN) y el índice S&P/BMV IPC (en moneda local), desde el 1 de enero de 2023 a la fecha actual:
tickerV=c("Q.MX")
deD=Sys.Date()-(3*365)
hastaD=Sys.Date()
per="D"
paridadFX="USDMXN=X"
convertirFX=c(FALSE)
Datos=historico_multiples_precios(tickers=tickerV,de=deD,hasta=hastaD,periodicidad=per,fxRate=paridadFX,whichToFX=convertirFX)
precios=Datos$tablaPrecios
rendimientos=Datos$tablaRendimientosCont
PL=diff(precios$MXX,1)
r=diff(log(precios$MXX),1)
# Ejemplo para descargar los históricos diarios de grupo Alfa (en moneda local), Microsoft en EEUU (convertido a MXN), Mercado Libre en EEUU (convertido a MXN) y el índice S&P/BMV IPC (en moneda local), desde el 1 de enero de 2023 a la fecha actual:
tickerV=c("Q.MX")
deD=Sys.Date()-(3*365)
hastaD=Sys.Date()
per="D"
paridadFX="USDMXN=X"
convertirFX=c(FALSE)
Datos=historico_multiples_precios(tickers=tickerV,de=deD,hasta=hastaD,periodicidad=per,fxRate=paridadFX,whichToFX=convertirFX)
precios=Datos$tablaPrecios
rendimientos=Datos$tablaRendimientosCont
PL=diff(precios$MXX,1)
r=diff(log(precios$MXX),1)
lambda1 <- 0.95
pesos=lambda1^(0: (nrow(rendimientos)-2))
varExp1=(1-lambda1)*sum(pesos*(rendimientos$MXX^2))
varTimeFixed=var(rendimientos$MXX)
lambda1 <- 0.95
pesos=lambda1^(0: (nrow(rendimientos)-2))
varExp1=(1-lambda1)*sum(pesos*(rendimientos$MXX^2))
varTimeFixed=var(rendimientos$MXX)
```{r}
# Ejemplo para descargar los históricos diarios de grupo Alfa (en moneda local), Microsoft en EEUU (convertido a MXN), Mercado Libre en EEUU (convertido a MXN) y el índice S&P/BMV IPC (en moneda local), desde el 1 de enero de 2023 a la fecha actual:
tickerV=c("Q.MX")
deD=Sys.Date()-(3*365)
hastaD=Sys.Date()
per="D"
paridadFX="USDMXN=X"
convertirFX=c(FALSE)
Datos=historico_multiples_precios(tickers=tickerV,de=deD,hasta=hastaD,periodicidad=per,fxRate=paridadFX,whichToFX=convertirFX)
precios=Datos$tablaPrecios
rendimientos=Datos$tablaRendimientosCont
PL=diff(precios$Q.MX,1)
r=diff(log(precios$Q.MX),1)
precios$PL=c(0,PL)
precios$r=c(0,r)
modeloARMA=auto.arima(log(precios$Q.MX))
lambda1 <- 0.95
pesos=lambda1^(0: (nrow(rendimientos)-2))
varExp1=(1-lambda1)*sum(pesos*(rendimientos$Q.MX^2))
varTimeFixed=var(rendimientos$Q.MX)
cat("La volatilidad del IPC con suavizamiento exponencial (lambda=0.95) es:", sqrt(varExp1), "%\n")
cat("La volatilidad del IPC con varianza de tiempo fijo es:", sqrt(varTimeFixed), "%\n")
lambda2 <- 0.98
pesos=lambda2^((1:(nrow(rendimientos))-1))
varExp2=(1-lambda2)*sum(pesos*(rendimientos$Q.MX^2))
varTimeFixed=var(rendimientos$Q.MX)
cat("La volatilidad de BIMBOA con suavizamiento exponencial (lambda=0.98) es:", sqrt(varExp1), "%\n")
cat("La volatilidad del BIMBOA con varianza de tiempo fijo es:", sqrt(varTimeFixed), "%\n")
lambda1 <- 0.95
pesos=lambda1^(0: (nrow(rendimientos)-2))
varExp1=(1-lambda1)*sum(pesos*(rendimientos$Q.MX^2))
varTimeFixed=var(rendimientos$Q.MX)
cat("La volatilidad de Qualitas con suavizamiento exponencial (lambda=0.95) es:", sqrt(varExp1), "%\n")
cat("La volatilidad de Qualitas  con varianza de tiempo fijo es:", sqrt(varTimeFixed), "%\n")
lambda2 <- 0.98
pesos=lambda2^((1:(nrow(rendimientos))-1))
varExp2=(1-lambda2)*sum(pesos*(rendimientos$Q.MX^2))
varTimeFixed=var(rendimientos$Q.MX)
cat("La volatilidad de de Qualitas con suavizamiento exponencial (lambda=0.98) es:", sqrt(varExp1), "%\n")
cat("La volatilidad de Qualitas con varianza de tiempo fijo es:", sqrt(varTimeFixed), "%\n")
t=1  # horizonte de tiempo de un día
nivelConfianza <- 0.98
z_score <- qnorm(1-nivelConfianza)
M <- 500000
VaR_gaussiano <- M * abs(z_score) * (sqrt(varExp2)/100)*sqrt(t)
cat("El VaR gaussiano al 98% de confianza para una exposición de $500,000.00 es: $", formatC(VaR_gaussiano,format="f",big.mark=","), "\n")
spec <- ugarchspec(variance.model = list(model = "sGARCH",
garchOrder = c(1, 1)),
mean.model = list(armaOrder = c(0, 0), include.mean = TRUE),
distribution.model = "norm")
garch_fit <- ugarchfit(spec = spec, data = rendimientos$MXX)
spec <- ugarchspec(variance.model = list(model = "sGARCH",
garchOrder = c(1, 1)),
mean.model = list(armaOrder = c(0, 0), include.mean = TRUE),
distribution.model = "norm")
garch_fit <- ugarchfit(spec = spec, data = rendimientos$Q.MX)
tabla_resultados <- garch_fit@fit$matcoef
tabla_resultados[, 1:3]
garchMovil=rollGARCH(rendimientos$MXX,model="sGARCH",LLF="norm",garchOrder=c(1,1),ventana=100,arma=c(0,0),include.mean = FALSE,upDown=TRUE)
suavExponMovil95=rollEWSigma(rendimientos$Q.MX,lambda=0.95,ventana=100)
suavExponMovil98=rollEWSigma(rendimientos$Q.MX,lambda=0.98,ventana=100)
tablaVolatilidades=data.frame(Fecha=rendimientos$Date,
Volatilidad_GARCH=garchMovil,
Volatilidad_SE_95=suavExponMovil95,
Volatilidad_SE_98=suavExponMovil98)
garchMovil=rollGARCH(rendimientos$Q.MX,model="sGARCH",LLF="norm",garchOrder=c(1,1),ventana=100,arma=c(0,0),include.mean = FALSE,upDown=TRUE)
suavExponMovil95=rollEWSigma(rendimientos$Q.MX,lambda=0.95,ventana=100)
suavExponMovil98=rollEWSigma(rendimientos$Q.MX,lambda=0.98,ventana=100)
tablaVolatilidades=data.frame(Fecha=rendimientos$Date,
Volatilidad_GARCH=garchMovil,
Volatilidad_SE_95=suavExponMovil95,
Volatilidad_SE_98=suavExponMovil98)
tabla_resultados <- garch_fit@fit$matcoef
tabla_resultados[, 1:4]
plot_ly()%>%
add_trace(data=tablaVolatilidades,x=~Fecha,y=~Volatilidad_GARCH,
type="scatter",mode="lines",name="Volatilidad GARCH(1,1)") %>%
add_trace(data=tablaVolatilidades,x=~Fecha,y=~Volatilidad_SE_95,
type="scatter",mode="lines",name="Volatilidad SE (λ=0.95)") %>%
add_trace(data=tablaVolatilidades,x=~Fecha,y=~Volatilidad_SE_98,
type="scatter",mode="lines",name="Volatilidad SE (λ=0.98)")
spec <- ugarchspec(variance.model = list(model = "eGARCH",
garchOrder = c(1, 1)),
mean.model = list(armaOrder = c(0, 0), include.mean = TRUE),
distribution.model = "norm")
garch_fit <- ugarchfit(spec = spec, data = rendimientos$Q.MX)
spec <- ugarchspec(variance.model = list(model = "eGARCH",
garchOrder = c(1, 1)),
mean.model = list(armaOrder = c(0, 0), include.mean = TRUE),
distribution.model = "norm")
egarch_fit <- ugarchfit(spec = spec, data = rendimientos$Q.MX)
spec <- ugarchspec(variance.model = list(model = "sGARCH",
garchOrder = c(1, 1)),
mean.model = list(armaOrder = c(0, 0), include.mean = TRUE),
distribution.model = "norm")
garch_fit <- ugarchfit(spec = spec, data = rendimientos$Q.MX)
tabla_resultados <- egarch_fit@fit$matcoef
tabla_resultados[, 1:4]
plot(egarch_fit, view="all")))
plot(egarch_fit, view="all")
